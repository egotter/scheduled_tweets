<% tokyo_time = Time.zone.now.in_time_zone('Tokyo') %>
<%= form_tag api_v1_scheduled_tweets_path, id: 'form', method: :post, multipart: true, remote: true do %>
  <div class="d-flex justify-content-between">
    <div class="textarea-title text-label">
      <i class="fas fa-spell-check mr-1"></i>
      <%= t('.tweet') %>
    </div>
    <div class="text-right remaining-count">280</div>
  </div>

  <div id="form_text_errors" class="invalid-feedback form-text"></div>

  <div class="textarea-container bg-white mb-2">
    <div class="textarea-outer">
      <textarea id="input-text" placeholder="<%= t('.placeholder') %>"></textarea>
    </div>
    <div class="input-actions">
      <span class="upload-file small"><i class="far fa-image mr-1"></i><%= t('.attach_image') %></span>
      <span class="input-emoji" style="display: none;"><i class="far fa-smile mr-3"></i></span>
    </div>
  </div>

  <input type="file" id="input-image" name="input-image" accept=".jpg,.jpeg,.png,.gif,image/jpeg,image/png,image/gif" style="display: none;">
  <div id="form_images_errors" class="invalid-feedback form-text"></div>

  <div class="text-muted small mt-1"><%= t('.hints.write_url_at_the_end') %></div>
  <div class="text-muted small mt-1"><%= t('.hints.asterisk_not_allowed') %></div>
  <div class="text-muted small mt-1 mb-5"><%= t('.hints.content_type_html') %></div>

  <div class="form-group">
    <label for="date-picker" class="specified_date-label"><%= t('.schedule_date') %></label>
    <div id="form_date_errors" class="invalid-feedback form-text"></div>
    <input type="date" id="date-picker" class="form-control" name="scheduled-date"
           min="<%= (tokyo_time + 1.hour).to_date %>" max="<%= ScheduledTweetTime.max_date %>" value="<%= (tokyo_time + 1.hour).to_date %>">
  </div>

  <div class="form-group">
    <label for="time-picker" class="specified_time-label"><%= t('.schedule_time') %></label>
    <div id="form_time_errors" class="invalid-feedback form-text"></div>
    <input type="time" id="time-picker" class="form-control" name="scheduled-time"
           value="<%= (tokyo_time + 1.hour).strftime('%H:%M') %>">
  </div>

  <div>
    <button style="" id="submit" type="submit" class="btn btn-success"><%= t('.create') %></button>
  </div>

  <%= hidden_field_tag :tweet_text, '', class: 'tweet-text' %>
<% end %>
